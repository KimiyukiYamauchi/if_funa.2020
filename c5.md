# データベースの基礎

## データベース概要

- データベース
    - 加工や再利用がしやすいように、一定の形式で作成、  
    管理されたデータの集合

    - クエリ
        - 問い合わせ
        - SQL
    - レポート
        - データを整理して見やすい形で出力
    - フラットファイル
        - １行が１レコード
        - カンマ区切り => CSV
        - タブ区切り => TSV

- データベースを使ってデータを管理するメリット

    - 複数のデータをまとめて管理できる
    - 目的のデータを簡単に探すことができる
    - 簡単に編集して使うことができる

## さまざまなデータベースの構造

- データベースの種類

    - リレーショナルデータベース
        - データがテーブルといういれものに格納
        - テーブル同士にリレーションがはられている

        - テーブル
            - データが保存されている箱

        - レコード/カラム
            - レコード => 行、１件のデータ
            - カラム => 列、属性

        - スキーマ
            - データをどのような構造で格納するかを定義したもの

        - 外部キー
            - テーブル同士のリレーションに利用される列
            - 別のテーブルの特定の列に含まれる項目しか選択入力できない
        - 制約
            - データを追加/更新/削除するときのルール
            - NOT NULL
                - 空は設定できない
            - 一意キー制約(UNIQUE 制約)
                - 同じ値を設定できない
            - 主キー制約(PRIMARY KEY 制約)
                - UNIQUEかつNOT NULL
            - 参照整合性制約(REFERENCES 制約)
                - 外部キーの値は親表の値と一致しなければないらい
            - CHECK制約
                - 指定した条件に合致しなければならない

    - 非リレーショナルデータベース

        - ドキュメント型データベース
            - 保存するデータ構造が自由
            - JSONやXMLで記述
        - キーバリュー型データベース
            - 識別(key)とデータ(値: value)の対応でデータを保存

## データベースと入力インターフェースの利用方法

- 関連付け方法

    - DML(データ操作言語)

        | DML | 機能 |
        |:--- | :--- |
        | SELECT | データ行を取得 |
        | UPDATE | データ行の更新 |
        | INSERT | データ行の追加 |
        | DELETE | データ行の削除 |

    - DDL(データ定義言語)

        | DDL | 機能 |
        |:--- | :--- |
        | CREATE TABLE | テーブルの作成 |
        | ALTER TABLE | テーブル属性変更 |
        | DROP TABLE | テーブルの削除 |

    - DCL(データ制御言語)
        - データベースユーザーまたはロールのアクセス許可の設定または変更

- アクセス方法

    - ODBC
        - アプリケーションからデータベースへの接続方法
        - Windows
    - エクスポート/インポート
    - データベースダンプ
        - データベースに含まれているテーブルなどの情報を SQL文の形で出力
    - バックアップ
        - スナップショットベースバックアップ
